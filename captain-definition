{
  "schemaVersion": 2,
  "dockerfileLines": [
    "FROM node:16.17.0-bullseye-slim as build",
    "ENV NODE_ENV production",
    "WORKDIR /usr/src/app",
    "COPY --chown=node:node . /usr/src/app",
    "RUN npm ci --omit=dev && npm cache clean --force",
    "RUN npm run build",
    "FROM nginx:alpine",
    "COPY --from=build /usr/src/app/dist/ /usr/share/nginx/html",
    "EXPOSE 80"
  ]
}
